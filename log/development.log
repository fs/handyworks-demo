

Processing HomeController#index (for 10.0.0.190 at 2009-10-01 17:21:18) [GET]
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://tsweb.toa/home]


Processing HomeController#index (for 10.0.0.190 at 2009-10-01 17:22:00) [GET]
Rendering home/index
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://tsweb.toa/]


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:22:10) [GET]
Rendering patients/new
ERROR: compiling _run_erb_app47views47patients47new46html46erb RAISED compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:11: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                       ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:11: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                        ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:105: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:105: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                        ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                 ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:125: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:125: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                       ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:129: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:129: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                 ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:133: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:133: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:137: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:137: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:141: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:141: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:145: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:145: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                 ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:149: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                       ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:149: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                        ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                             ^
Function body:           def _run_erb_app47views47patients47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Adding a new patient</h1>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :work_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :work_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :cell_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :cell_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :social_security_number, "SS#" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :social_security_number ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :birth_date, "D.O.B." ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.date_select :birth_date ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :first_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.date_select :first_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.date_select :last_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.select :last_visit, APP_CONFIG['options']['sex'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :category ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.select :category, APP_CONFIG['options']['category'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :student ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.select :student, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :type ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.select :type, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :married ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.select :married, APP_CONFIG['options']['married'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :spouse ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :spouse ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :title, "Mr/Mrs/Ms" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.select :title, APP_CONFIG['options']['title'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :account ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :account ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :work_status ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.select :work_status, APP_CONFIG['options']['work_status'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :clinic ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.select :clinic, APP_CONFIG['options']['clinic'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "referred_by (f.select APP_CONFIG[\342\200\230options\342\200\231][\342\200\230referred_by\342\200\231], label \342\200\234Patient referred to us by\342\200\235)\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :occupation ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :occupation ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :employer ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :employer ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :work_city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :work_city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :work_state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :work_state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :work_zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :work_zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :work_comment ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :work_comment ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :nickname ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :nickname ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "<div>\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.label :top_label ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :top_label ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</div>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/anatoliy/projects/testtask/app/views/patients/new.html.erb:162:in `compile!'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1329:in `perform_action_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:11: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                       ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:11: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                        ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:105: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:105: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                        ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                 ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:125: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:125: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                       ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:129: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:129: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                 ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:133: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:133: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:137: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:137: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:141: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:141: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:145: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:145: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                 ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:149: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                       ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:149: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                        ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "  "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                             ^) on line #11 of app/views/patients/new.html.erb:
8:   <%= f.text_field :last_name %>
9: </div>
10: <div>
11:   <%= f.label :address1 (label “Address”) %><br />
12:   <%= f.text_field :address1 (label “Address”) %>
13: </div>
14: <div>

    app/views/patients/new.html.erb:162:in `compile!'

Rendered rescues/_trace (28.7ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:23:01) [GET]
Rendering patients/new
ERROR: compiling _run_erb_app47views47patients47new46html46erb RAISED compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:2: syntax error
@output_buffer.concat(( form |f| ).to_s); @output_buffer.concat "\n"
                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                       ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:162: syntax error
Function body:           def _run_erb_app47views47patients47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Adding a new patient</h1>\n"
@output_buffer.concat(( form |f| ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :cell_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :cell_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :social_security_number, "SS#" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :social_security_number ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :birth_date, "D.O.B." ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :birth_date ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :first_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :first_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :last_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :last_visit, APP_CONFIG['options']['sex'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  "; @output_buffer.concat "\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :category ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :category, APP_CONFIG['options']['category'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :student ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :student, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :type ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :type, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :married ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :married, APP_CONFIG['options']['married'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :spouse ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :spouse ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :title, "Mr/Mrs/Ms" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :title, APP_CONFIG['options']['title'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :account ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :account ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_status ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :work_status, APP_CONFIG['options']['work_status'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :clinic ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :clinic, APP_CONFIG['options']['clinic'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  referred_by (f.select APP_CONFIG[\342\200\230options\342\200\231][\342\200\230referred_by\342\200\231], label \342\200\234Patient referred to us by\342\200\235)\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :occupation ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :occupation ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :employer ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :employer ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_comment ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_comment ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :nickname ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :nickname ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :top_label ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :top_label ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
 end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/anatoliy/projects/testtask/app/views/patients/new.html.erb:162:in `compile!'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1329:in `perform_action_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:2: syntax error
@output_buffer.concat(( form |f| ).to_s); @output_buffer.concat "\n"
                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                       ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:162: syntax error) on line #2 of app/views/patients/new.html.erb:
1: <h1>Adding a new patient</h1>
2: <%= form |f| %>
3:   <div>
4:     <%= f.label :first_name %><br />
5:     <%= f.text_field :first_name %>

    app/views/patients/new.html.erb:162:in `compile!'

Rendered rescues/_trace (28.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:23:18) [GET]
Rendering patients/new
ERROR: compiling _run_erb_app47views47patients47new46html46erb RAISED compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:2: syntax error
@output_buffer.concat(( form_tag |f| ).to_s); @output_buffer.concat "\n"
                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                       ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:162: syntax error
Function body:           def _run_erb_app47views47patients47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Adding a new patient</h1>\n"
@output_buffer.concat(( form_tag |f| ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :cell_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :cell_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :social_security_number, "SS#" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :social_security_number ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :birth_date, "D.O.B." ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :birth_date ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :first_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :first_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :last_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :last_visit, APP_CONFIG['options']['sex'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  "; @output_buffer.concat "\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :category ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :category, APP_CONFIG['options']['category'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :student ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :student, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :type ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :type, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :married ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :married, APP_CONFIG['options']['married'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :spouse ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :spouse ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :title, "Mr/Mrs/Ms" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :title, APP_CONFIG['options']['title'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :account ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :account ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_status ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :work_status, APP_CONFIG['options']['work_status'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :clinic ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :clinic, APP_CONFIG['options']['clinic'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  referred_by (f.select APP_CONFIG[\342\200\230options\342\200\231][\342\200\230referred_by\342\200\231], label \342\200\234Patient referred to us by\342\200\235)\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :occupation ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :occupation ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :employer ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :employer ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_comment ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_comment ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :nickname ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :nickname ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :top_label ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :top_label ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
 end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/anatoliy/projects/testtask/app/views/patients/new.html.erb:162:in `compile!'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1329:in `perform_action_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:2: syntax error
@output_buffer.concat(( form_tag |f| ).to_s); @output_buffer.concat "\n"
                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                       ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:162: syntax error) on line #2 of app/views/patients/new.html.erb:
1: <h1>Adding a new patient</h1>
2: <%= form_tag |f| %>
3:   <div>
4:     <%= f.label :first_name %><br />
5:     <%= f.text_field :first_name %>

    app/views/patients/new.html.erb:162:in `compile!'

Rendered rescues/_trace (28.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:25:21) [GET]
Rendering patients/new
ERROR: compiling _run_erb_app47views47patients47new46html46erb RAISED compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:2: syntax error
@output_buffer.concat(( form_for :patient do |f| ).to_s); @output_buffer.concat "\n"
                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                       ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:162: syntax error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:164: syntax error
Function body:           def _run_erb_app47views47patients47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Adding a new patient</h1>\n"
@output_buffer.concat(( form_for :patient do |f| ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :cell_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :cell_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :social_security_number, "SS#" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :social_security_number ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :birth_date, "D.O.B." ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :birth_date ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :first_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :first_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :last_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :last_visit, APP_CONFIG['options']['sex'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  "; @output_buffer.concat "\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :category ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :category, APP_CONFIG['options']['category'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :student ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :student, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :type ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :type, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :married ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :married, APP_CONFIG['options']['married'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :spouse ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :spouse ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :title, "Mr/Mrs/Ms" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :title, APP_CONFIG['options']['title'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :account ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :account ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_status ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :work_status, APP_CONFIG['options']['work_status'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :clinic ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :clinic, APP_CONFIG['options']['clinic'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  referred_by (f.select APP_CONFIG[\342\200\230options\342\200\231][\342\200\230referred_by\342\200\231], label \342\200\234Patient referred to us by\342\200\235)\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :occupation ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :occupation ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :employer ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :employer ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_comment ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_comment ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :nickname ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :nickname ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :top_label ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :top_label ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
 end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/anatoliy/projects/testtask/app/views/patients/new.html.erb:164:in `compile!'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1329:in `perform_action_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:2: syntax error
@output_buffer.concat(( form_for :patient do |f| ).to_s); @output_buffer.concat "\n"
                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                       ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:162: syntax error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:164: syntax error) on line #2 of app/views/patients/new.html.erb:
1: <h1>Adding a new patient</h1>
2: <%= form_for :patient do |f| %>
3:   <div>
4:     <%= f.label :first_name %><br />
5:     <%= f.text_field :first_name %>

    app/views/patients/new.html.erb:164:in `compile!'

Rendered rescues/_trace (27.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:25:51) [GET]
Rendering patients/new
ERROR: compiling _run_erb_app47views47patients47new46html46erb RAISED compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:2: syntax error
@output_buffer.concat(( form_for :patient, :url => patients_path do |f| ).to_s); @output_buffer.concat "\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                       ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:162: syntax error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:164: syntax error
Function body:           def _run_erb_app47views47patients47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Adding a new patient</h1>\n"
@output_buffer.concat(( form_for :patient, :url => patients_path do |f| ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :cell_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :cell_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :social_security_number, "SS#" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :social_security_number ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :birth_date, "D.O.B." ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :birth_date ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :first_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :first_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :last_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :last_visit, APP_CONFIG['options']['sex'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  "; @output_buffer.concat "\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :category ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :category, APP_CONFIG['options']['category'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :student ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :student, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :type ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :type, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :married ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :married, APP_CONFIG['options']['married'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :spouse ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :spouse ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :title, "Mr/Mrs/Ms" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :title, APP_CONFIG['options']['title'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :account ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :account ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_status ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :work_status, APP_CONFIG['options']['work_status'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :clinic ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :clinic, APP_CONFIG['options']['clinic'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  referred_by (f.select APP_CONFIG[\342\200\230options\342\200\231][\342\200\230referred_by\342\200\231], label \342\200\234Patient referred to us by\342\200\235)\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :occupation ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :occupation ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :employer ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :employer ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_comment ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_comment ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :nickname ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :nickname ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :top_label ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :top_label ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
 end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/anatoliy/projects/testtask/app/views/patients/new.html.erb:164:in `compile!'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1329:in `perform_action_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:2: syntax error
@output_buffer.concat(( form_for :patient, :url => patients_path do |f| ).to_s); @output_buffer.concat "\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                       ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:162: syntax error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:164: syntax error) on line #2 of app/views/patients/new.html.erb:
1: <h1>Adding a new patient</h1>
2: <%= form_for :patient, :url => patients_path do |f| %>
3:   <div>
4:     <%= f.label :first_name %><br />
5:     <%= f.text_field :first_name %>

    app/views/patients/new.html.erb:164:in `compile!'

Rendered rescues/_trace (28.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:26:01) [GET]
Rendering patients/new
ERROR: compiling _run_erb_app47views47patients47new46html46erb RAISED compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                       ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                               ^
Function body:           def _run_erb_app47views47patients47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Adding a new patient</h1>\n"
 form_for :patient, :url => patients_path do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :cell_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :cell_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :social_security_number, "SS#" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :social_security_number ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :birth_date, "D.O.B." ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :birth_date ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :first_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :first_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :last_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :last_visit, APP_CONFIG['options']['sex'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  "; @output_buffer.concat "\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :category ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :category, APP_CONFIG['options']['category'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :student ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :student, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :type ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :type, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :married ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :married, APP_CONFIG['options']['married'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :spouse ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :spouse ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :title, "Mr/Mrs/Ms" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :title, APP_CONFIG['options']['title'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :account ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :account ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_status ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :work_status, APP_CONFIG['options']['work_status'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :clinic ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :clinic, APP_CONFIG['options']['clinic'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  referred_by (f.select APP_CONFIG[\342\200\230options\342\200\231][\342\200\230referred_by\342\200\231], label \342\200\234Patient referred to us by\342\200\235)\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :occupation ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :occupation ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :employer ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :employer ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_comment ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_comment ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :nickname ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :nickname ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :top_label ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :top_label ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
 end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/anatoliy/projects/testtask/app/views/patients/new.html.erb:164:in `compile!'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1329:in `perform_action_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                       ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                               ^) on line #12 of app/views/patients/new.html.erb:
9:     <%= f.text_field :last_name %>
10:   </div>
11:   <div>
12:     <%= f.label :address1 (label “Address”) %><br />
13:     <%= f.text_field :address1 (label “Address”) %>
14:   </div>
15:   <div>

    app/views/patients/new.html.erb:164:in `compile!'

Rendered rescues/_trace (30.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:26:15) [GET]
Rendering patients/new
ERROR: compiling _run_erb_app47views47patients47new46html46erb RAISED compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                       ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                               ^
Function body:           def _run_erb_app47views47patients47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Adding a new patient</h1>\n"
 form_for :patient do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :cell_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :cell_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :social_security_number, "SS#" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :social_security_number ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :birth_date, "D.O.B." ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :birth_date ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :first_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :first_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :last_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :last_visit, APP_CONFIG['options']['sex'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  "; @output_buffer.concat "\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :category ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :category, APP_CONFIG['options']['category'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :student ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :student, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :type ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :type, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :married ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :married, APP_CONFIG['options']['married'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :spouse ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :spouse ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :title, "Mr/Mrs/Ms" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :title, APP_CONFIG['options']['title'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :account ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :account ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_status ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :work_status, APP_CONFIG['options']['work_status'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :clinic ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :clinic, APP_CONFIG['options']['clinic'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  referred_by (f.select APP_CONFIG[\342\200\230options\342\200\231][\342\200\230referred_by\342\200\231], label \342\200\234Patient referred to us by\342\200\235)\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :occupation ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :occupation ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :employer ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :employer ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_comment ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_comment ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :nickname ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :nickname ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :top_label ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :top_label ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
 end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/anatoliy/projects/testtask/app/views/patients/new.html.erb:164:in `compile!'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1329:in `perform_action_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:12: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:13: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                       ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                               ^) on line #12 of app/views/patients/new.html.erb:
9:     <%= f.text_field :last_name %>
10:   </div>
11:   <div>
12:     <%= f.label :address1 (label “Address”) %><br />
13:     <%= f.text_field :address1 (label “Address”) %>
14:   </div>
15:   <div>

    app/views/patients/new.html.erb:164:in `compile!'

Rendered rescues/_trace (182.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:26:43) [GET]
Rendering patients/new
ERROR: compiling _run_erb_app47views47patients47new46html46erb RAISED compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                       ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                               ^
Function body:           def _run_erb_app47views47patients47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Adding a new patient</h1>\n"
 form_for :patient do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1, "Address" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :cell_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :cell_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :social_security_number, "SS#" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :social_security_number ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :birth_date, "D.O.B." ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :birth_date ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :first_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :first_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :last_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :last_visit, APP_CONFIG['options']['sex'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  "; @output_buffer.concat "\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :category ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :category, APP_CONFIG['options']['category'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :student ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :student, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :type ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :type, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :married ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :married, APP_CONFIG['options']['married'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :spouse ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :spouse ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :title, "Mr/Mrs/Ms" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :title, APP_CONFIG['options']['title'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :account ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :account ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_status ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :work_status, APP_CONFIG['options']['work_status'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :clinic ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :clinic, APP_CONFIG['options']['clinic'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  referred_by (f.select APP_CONFIG[\342\200\230options\342\200\231][\342\200\230referred_by\342\200\231], label \342\200\234Patient referred to us by\342\200\235)\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :occupation ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :occupation ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :employer ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :employer ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_comment ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_comment ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :nickname ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :nickname ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :top_label ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :top_label ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
 end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/anatoliy/projects/testtask/app/views/patients/new.html.erb:164:in `compile!'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1329:in `perform_action_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:126: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email (кнопку не надо) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:127: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email (кнопку не надо) ).to_s); @output_buffer.concat "\n"
                                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:130: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:131: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:134: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:135: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                               ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:138: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                    ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:139: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                     ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                      ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:142: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                       ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                           ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:143: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                            ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                             ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:146: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                  ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:147: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                         ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:150: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive (checkbox) ).to_s); @output_buffer.concat "<br />\n"
                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:151: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive (checkbox) ).to_s); @output_buffer.concat "\n"
                                                                                               ^) on line #106 of app/views/patients/new.html.erb:
103:     <%= f.text_field :employer %>
104:   </div>
105:   <div>
106:     <%= f.label :work_address1 (label “Address”) %><br />
107:     <%= f.text_field :work_address1 (label “Address”) %>
108:   </div>
109:   <div>

    app/views/patients/new.html.erb:164:in `compile!'

Rendered rescues/_trace (28.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:27:18) [GET]
Rendering patients/new
ERROR: compiling _run_erb_app47views47patients47new46html46erb RAISED compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                               ^
Function body:           def _run_erb_app47views47patients47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Adding a new patient</h1>\n"
 form_for :patient do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1, "Address" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :cell_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :cell_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :social_security_number, "SS#" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :social_security_number ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :birth_date, "D.O.B." ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :birth_date ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :first_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :first_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :last_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :last_visit, APP_CONFIG['options']['sex'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  "; @output_buffer.concat "\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :category ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :category, APP_CONFIG['options']['category'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :student ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :student, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :type ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :type, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :married ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :married, APP_CONFIG['options']['married'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :spouse ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :spouse ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :title, "Mr/Mrs/Ms" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :title, APP_CONFIG['options']['title'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :account ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :account ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_status ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :work_status, APP_CONFIG['options']['work_status'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :clinic ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :clinic, APP_CONFIG['options']['clinic'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  referred_by (f.select APP_CONFIG[\342\200\230options\342\200\231][\342\200\230referred_by\342\200\231], label \342\200\234Patient referred to us by\342\200\235)\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :occupation ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :occupation ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :employer ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :employer ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_comment ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_comment ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :nickname ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :nickname ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :top_label ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :top_label ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
 end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/anatoliy/projects/testtask/app/views/patients/new.html.erb:164:in `compile!'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1329:in `perform_action_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:106: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:107: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                               ^) on line #106 of app/views/patients/new.html.erb:
103:     <%= f.text_field :employer %>
104:   </div>
105:   <div>
106:     <%= f.label :work_address1 (label “Address”) %><br />
107:     <%= f.text_field :work_address1 (label “Address”) %>
108:   </div>
109:   <div>

    app/views/patients/new.html.erb:164:in `compile!'

Rendered rescues/_trace (88.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 10.0.0.190 at 2009-10-01 17:28:51) [GET]
Rendering home/index
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://tsweb.toa/]


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:28:53) [GET]
Rendering patients/new
ERROR: compiling _run_erb_app47views47patients47new46html46erb RAISED compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:109: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:109: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:110: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:110: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                               ^
Function body:           def _run_erb_app47views47patients47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Adding a new patient</h1>\n"
 form_for :patient do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1, "Address" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :cell_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :cell_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :social_security_number, "SS#" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :social_security_number ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :birth_date, "D.O.B." ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :birth_date ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :first_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :first_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :last_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :last_visit, APP_CONFIG['options']['sex'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  "; @output_buffer.concat "\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :category ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :category, APP_CONFIG['options']['category'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :student ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :student, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :type ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :type, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :married ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :married, APP_CONFIG['options']['married'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :spouse ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :spouse ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :title, "Mr/Mrs/Ms" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :title, APP_CONFIG['options']['title'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :account ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :account ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_status ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :work_status, APP_CONFIG['options']['work_status'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :clinic ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :clinic, APP_CONFIG['options']['clinic'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :referred_by, "Patient referred to us by" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :referred_by, APP_CONFIG['options']['referred_by'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :occupation ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :occupation ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :employer ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :employer ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_comment ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_comment ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :nickname ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :nickname ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :top_label ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :top_label ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
 end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/anatoliy/projects/testtask/app/views/patients/new.html.erb:167:in `compile!'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1329:in `perform_action_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:109: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                              ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:109: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1 (label “Address”) ).to_s); @output_buffer.concat "<br />\n"
                                                                                                          ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:110: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                   ^
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:110: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 (label “Address”) ).to_s); @output_buffer.concat "\n"
                                                                                                               ^) on line #109 of app/views/patients/new.html.erb:
106:     <%= f.text_field :employer %>
107:   </div>
108:   <div>
109:     <%= f.label :work_address1 (label “Address”) %><br />
110:     <%= f.text_field :work_address1 (label “Address”) %>
111:   </div>
112:   <div>

    app/views/patients/new.html.erb:167:in `compile!'

Rendered rescues/_trace (27.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:29:11) [GET]
Rendering patients/new
ERROR: compiling _run_erb_app47views47patients47new46html46erb RAISED compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:109: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1, "Address") ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^
Function body:           def _run_erb_app47views47patients47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Adding a new patient</h1>\n"
 form_for :patient do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :first_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :first_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_name ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :last_name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :address1, "Address" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :address1 ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :cell_phone ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :cell_phone ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :social_security_number, "SS#" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :social_security_number ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :birth_date, "D.O.B." ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :birth_date ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :first_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :first_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.date_select :last_visit ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :last_visit ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :last_visit, APP_CONFIG['options']['sex'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  "; @output_buffer.concat "\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :category ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :category, APP_CONFIG['options']['category'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :student ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :student, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :type ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :type, APP_CONFIG['options']['student'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :married ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :married, APP_CONFIG['options']['married'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :spouse ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :spouse ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :title, "Mr/Mrs/Ms" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :title, APP_CONFIG['options']['title'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :account ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :account ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_status ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :work_status, APP_CONFIG['options']['work_status'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :clinic ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :clinic, APP_CONFIG['options']['clinic'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :referred_by, "Patient referred to us by" ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.select :referred_by, APP_CONFIG['options']['referred_by'] ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :occupation ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :occupation ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :employer ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :employer ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1, "Address") ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_address1 ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_city ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_city ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_state ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_state ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_zip ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_zip ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_comment ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :work_comment ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :email ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :email ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :release_info ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :release_info ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :send_statement ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :send_statement ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :finance_charge ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :finance_charge ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :authorization_on_file ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :authorization_on_file ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :supress_mail ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :supress_mail ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :inactive ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :inactive ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :nickname ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :nickname ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
@output_buffer.concat "  <div>\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.label :top_label ).to_s); @output_buffer.concat "<br />\n"
@output_buffer.concat "    "; @output_buffer.concat(( f.text_field :top_label ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "  </div>\n"
 end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/anatoliy/projects/testtask/app/views/patients/new.html.erb:167:in `compile!'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1329:in `perform_action_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/usr/lib64/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/lib64/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/usr/lib64/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/usr/lib64/ruby/gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/usr/lib64/ruby/gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/usr/lib64/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/home/anatoliy/projects/testtask/app/views/patients/new.html.erb:109: syntax error
@output_buffer.concat "    "; @output_buffer.concat(( f.label :work_address1, "Address") ).to_s); @output_buffer.concat "<br />\n"
                                                                                                ^) on line #109 of app/views/patients/new.html.erb:
106:     <%= f.text_field :employer %>
107:   </div>
108:   <div>
109:     <%= f.label :work_address1, "Address") %><br />
110:     <%= f.text_field :work_address1 %>
111:   </div>
112:   <div>

    app/views/patients/new.html.erb:167:in `compile!'

Rendered rescues/_trace (27.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:29:18) [GET]
Rendering patients/new

ActionView::TemplateError (uninitialized constant ActionView::Base::CompiledTemplates::APP_CONFIG) on line #57 of app/views/patients/new.html.erb:
54:   </div>
55:   <div>
56:     <%= f.label :last_visit %><br />
57:     <%= f.select :last_visit, APP_CONFIG['options']['sex'] %>
58:   </div>
59:   <%# sex (f.select APP_CONFIG[‘options’][‘sex’], в этом и остальных селектах использовать :include_blank => true, если надо) %>
60:   <div>

    app/views/patients/new.html.erb:57
    app/views/patients/new.html.erb:2

Rendered rescues/_trace (29.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:30:55) [GET]
Rendering patients/new

ActionView::TemplateError (uninitialized constant ActionView::Base::CompiledTemplates::APP_CONFIG) on line #57 of app/views/patients/new.html.erb:
54:   </div>
55:   <div>
56:     <%= f.label :last_visit %><br />
57:     <%= f.select :last_visit, APP_CONFIG['options']['sex'] %>
58:   </div>
59:   <%# sex (f.select APP_CONFIG[‘options’][‘sex’], в этом и остальных селектах использовать :include_blank => true, если надо) %>
60:   <div>

    app/views/patients/new.html.erb:57
    app/views/patients/new.html.erb:2

Rendered rescues/_trace (30.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:32:47) [GET]
Rendering patients/new

ActionView::TemplateError (uninitialized constant ActionView::Base::CompiledTemplates::APP_CONFIG) on line #57 of app/views/patients/new.html.erb:
54:   </div>
55:   <div>
56:     <%= f.label :last_visit %><br />
57:     <%= f.select :last_visit, APP_CONFIG['options']['sex'] %>
58:   </div>
59:   <%# sex (f.select APP_CONFIG[‘options’][‘sex’], в этом и остальных селектах использовать :include_blank => true, если надо) %>
60:   <div>

    app/views/patients/new.html.erb:57
    app/views/patients/new.html.erb:2

Rendered rescues/_trace (30.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:33:37) [GET]
Rendering patients/new

ActionView::TemplateError (uninitialized constant ActionView::Base::CompiledTemplates::APP_CONFIG) on line #57 of app/views/patients/new.html.erb:
54:   </div>
55:   <div>
56:     <%= f.label :last_visit %><br />
57:     <%= f.select :last_visit, APP_CONFIG['options']['sex'] %>
58:   </div>
59:   <%# sex (f.select APP_CONFIG[‘options’][‘sex’], в этом и остальных селектах использовать :include_blank => true, если надо) %>
60:   <div>

    app/views/patients/new.html.erb:57
    app/views/patients/new.html.erb:2

Rendered rescues/_trace (94.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:33:51) [GET]
Rendering patients/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #62 of app/views/patients/new.html.erb:
59:   <%# sex (f.select APP_CONFIG[‘options’][‘sex’], в этом и остальных селектах использовать :include_blank => true, если надо) %>
60:   <div>
61:     <%= f.label :category %><br />
62:     <%= f.select :category, APP_CONFIG['options']['category'] %>
63:   </div>
64:   <div>
65:     <%= f.label :student %><br />

    app/views/patients/new.html.erb:62
    app/views/patients/new.html.erb:2

Rendered rescues/_trace (87.1ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:34:47) [GET]
Rendering patients/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #62 of app/views/patients/new.html.erb:
59:   <%# sex (f.select APP_CONFIG[‘options’][‘sex’], в этом и остальных селектах использовать :include_blank => true, если надо) %>
60:   <div>
61:     <%= f.label :category %><br />
62:     <%= f.select :category, APP_CONFIG['options']['category'] %>
63:   </div>
64:   <div>
65:     <%= f.label :student %><br />

    app/views/patients/new.html.erb:62
    app/views/patients/new.html.erb:2

Rendered rescues/_trace (93.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:34:58) [GET]
Rendering patients/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #62 of app/views/patients/new.html.erb:
59:   <%# sex (f.select APP_CONFIG[‘options’][‘sex’], в этом и остальных селектах использовать :include_blank => true, если надо) %>
60:   <div>
61:     <%= f.label :category %><br />
62:     <%= f.select :category, APP_CONFIG['options']['category'] %>
63:   </div>
64:   <div>
65:     <%= f.label :student %><br />

    app/views/patients/new.html.erb:62
    app/views/patients/new.html.erb:2

Rendered rescues/_trace (101.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:35:12) [GET]
Rendering patients/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #62 of app/views/patients/new.html.erb:
59:   <%# sex (f.select APP_CONFIG[‘options’][‘sex’], в этом и остальных селектах использовать :include_blank => true, если надо) %>
60:   <div>
61:     <%= f.label :category %><br />
62:     <%= f.select :category, APP_CONFIG['options']['category'] %>
63:   </div>
64:   <div>
65:     <%= f.label :student %><br />

    app/views/patients/new.html.erb:62
    app/views/patients/new.html.erb:2

Rendered rescues/_trace (30.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:35:37) [GET]
Rendering patients/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #62 of app/views/patients/new.html.erb:
59:   <%# sex (f.select APP_CONFIG[‘options’][‘sex’], в этом и остальных селектах использовать :include_blank => true, если надо) %>
60:   <div>
61:     <%= f.label :category %><br />
62:     <%= f.select :category, APP_CONFIG['options']['category'] %>
63:   </div>
64:   <div>
65:     <%= f.label :student %><br />

    app/views/patients/new.html.erb:62
    app/views/patients/new.html.erb:2

Rendered rescues/_trace (30.8ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:37:21) [GET]
Rendering patients/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #62 of app/views/patients/new.html.erb:
59:   <%# sex (f.select APP_CONFIG[‘options’][‘sex’], в этом и остальных селектах использовать :include_blank => true, если надо) %>
60:   <div>
61:     <%= f.label :category %><br />
62:     <%= f.select :category, APP_CONFIG['options']['category'] %>
63:   </div>
64:   <div>
65:     <%= f.label :student %><br />

    app/views/patients/new.html.erb:62
    app/views/patients/new.html.erb:2

Rendered rescues/_trace (31.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:43:11) [GET]
Rendering patients/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #62 of app/views/patients/new.html.erb:
59:   <%# sex (f.select APP_CONFIG[‘options’][‘sex’], в этом и остальных селектах использовать :include_blank => true, если надо) %>
60:   <div>
61:     <%= f.label :category %><br />
62:     <%= f.select :category, APP_CONFIG['options']['category'] %>
63:   </div>
64:   <div>
65:     <%= f.label :student %><br />

    app/views/patients/new.html.erb:62
    app/views/patients/new.html.erb:2

Rendered rescues/_trace (31.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:43:24) [GET]
Rendering patients/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #62 of app/views/patients/new.html.erb:
59:   <%# sex (f.select APP_CONFIG[‘options’][‘sex’], в этом и остальных селектах использовать :include_blank => true, если надо) %>
60:   <div>
61:     <%= f.label :category %><br />
62:     <%= f.select :category, APP_CONFIG['options']['category'] %>
63:   </div>
64:   <div>
65:     <%= f.label :student %><br />

    app/views/patients/new.html.erb:62
    app/views/patients/new.html.erb:2

Rendered rescues/_trace (91.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:43:37) [GET]
Rendering patients/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #62 of app/views/patients/new.html.erb:
59:   <%# sex (f.select APP_CONFIG[‘options’][‘sex’], в этом и остальных селектах использовать :include_blank => true, если надо) %>
60:   <div>
61:     <%= f.label :category %><br />
62:     <%= f.select :category, APP_CONFIG['options']['category'] %>
63:   </div>
64:   <div>
65:     <%= f.label :student %><br />

    app/views/patients/new.html.erb:62
    app/views/patients/new.html.erb:2

Rendered rescues/_trace (97.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:43:48) [GET]
Rendering patients/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #66 of app/views/patients/new.html.erb:
63:   </div>
64:   <div>
65:     <%= f.label :student %><br />
66:     <%= f.select :student, APP_CONFIG['options']['student'] %>
67:   </div>
68:   <div>
69:     <%= f.label :type %><br />

    app/views/patients/new.html.erb:66
    app/views/patients/new.html.erb:2

Rendered rescues/_trace (87.4ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing PatientsController#new (for 10.0.0.190 at 2009-10-01 17:47:28) [GET]
Rendering patients/new
Completed in 65ms (View: 63, DB: 0) | 200 OK [http://tsweb.toa/patients/new]


Processing HomeController#index (for 10.0.0.190 at 2009-10-01 17:50:12) [GET]
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://tsweb.toa/]


Processing HomeController#index (for 10.0.0.190 at 2009-10-01 17:50:35) [GET]
Rendering home/index
Completed in 65ms (View: 63, DB: 0) | 200 OK [http://tsweb.toa/]


Processing HomeController#index (for 10.0.0.190 at 2009-10-01 17:52:04) [GET]
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://tsweb.toa/]


Processing HomeController#index (for 10.0.0.190 at 2009-10-01 17:54:15) [GET]
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://tsweb.toa/]


Processing HomeController#index (for 10.0.0.190 at 2009-10-01 17:54:19) [GET]
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://tsweb.toa/]


Processing HomeController#index (for 10.0.0.190 at 2009-10-01 17:56:21) [GET]
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://tsweb.toa/]


Processing HomeController#index (for 10.0.0.190 at 2009-10-01 17:56:57) [GET]
Rendering home/index
Completed in 62ms (View: 61, DB: 0) | 200 OK [http://tsweb.toa/]


Processing HomeController#index (for 10.0.0.190 at 2009-10-01 17:57:07) [GET]
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://tsweb.toa/]


Processing HomeController#index (for 10.0.0.190 at 2009-10-01 17:57:27) [GET]
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://tsweb.toa/]


Processing HomeController#index (for 10.0.0.190 at 2009-10-01 17:58:11) [GET]
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://tsweb.toa/]


Processing HomeController#index (for 10.0.0.190 at 2009-10-01 17:59:01) [GET]
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://tsweb.toa/]


Processing HomeController#index (for 10.0.0.190 at 2009-10-01 17:59:08) [GET]
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://tsweb.toa/]


Processing HomeController#index (for 10.0.0.190 at 2009-10-01 17:59:13) [GET]
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://tsweb.toa/]


Processing HomeController#index (for 10.0.0.190 at 2009-10-01 17:59:20) [GET]
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://tsweb.toa/]


Processing HomeController#index (for 10.0.0.190 at 2009-10-01 17:59:31) [GET]
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://tsweb.toa/]


Processing HomeController#index (for 10.0.0.190 at 2009-10-01 18:00:31) [GET]
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://tsweb.toa/]


Processing HomeController#index (for 10.0.0.190 at 2009-10-01 18:00:53) [GET]
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://tsweb.toa/]


Processing HomeController#index (for 10.0.0.190 at 2009-10-01 18:01:09) [GET]
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://tsweb.toa/]


Processing HomeController#index (for 10.0.0.193 at 2009-10-01 18:01:13) [GET]
Rendering home/index
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://tsweb.toa/]


Processing HomeController#index (for 10.0.0.193 at 2009-10-01 18:01:15) [GET]
Rendering home/index
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://tsweb.toa/]


Processing PatientsController#new (for 10.0.0.193 at 2009-10-01 18:01:16) [GET]
Rendering patients/new
Completed in 37ms (View: 36, DB: 0) | 200 OK [http://tsweb.toa/patients/new]


Processing HomeController#index (for 10.0.0.160 at 2009-10-01 18:02:15) [GET]
Rendering home/index
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://tsweb.toa/]


Processing HomeController#index (for 10.0.0.160 at 2009-10-01 18:17:16) [GET]
Rendering home/index
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://tsweb.toa/]


Processing PatientsController#new (for 10.0.0.160 at 2009-10-01 18:17:26) [GET]
Rendering patients/new
Completed in 71ms (View: 69, DB: 0) | 200 OK [http://tsweb.toa/patients/new]


Processing PatientsController#new (for 10.0.0.160 at 2009-10-01 18:17:40) [GET]
Rendering patients/new
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://tsweb.toa/patients/new]


Processing HomeController#index (for 10.0.0.198 at 2009-10-01 18:31:18) [GET]
Rendering home/index
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://tsweb.toa/]


Processing PatientsController#new (for 10.0.0.198 at 2009-10-01 18:31:29) [GET]
Rendering patients/new
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://tsweb.toa/patients/new]


Processing PatientsController#new (for 10.0.0.198 at 2009-10-01 18:33:03) [GET]
Rendering patients/new
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://tsweb.toa/patients/new]


Processing PatientsController#new (for 10.0.0.198 at 2009-10-01 18:33:17) [GET]
Rendering patients/new
Completed in 13ms (View: 12, DB: 0) | 200 OK [http://tsweb.toa/patients/new]


Processing PatientsController#new (for 10.0.0.198 at 2009-10-01 18:35:20) [GET]
Rendering patients/new
Completed in 13ms (View: 12, DB: 0) | 200 OK [http://tsweb.toa/patients/new]


Processing PatientsController#new (for 10.0.0.193 at 2009-10-01 19:07:25) [GET]
Rendering patients/new
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://tsweb.toa/patients/new]
